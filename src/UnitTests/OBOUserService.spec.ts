/// <chutzpah_reference path="../lib/jasmine-2.4.0/mock-ajax.js" />
import {OBOUserService} from '../js/services/OBOUserService';
declare var angular:any;
describe("GivenOBOUserService", () => {
    var $rootScope, fxpContextService, $q, fxpMessageService, userInfoService, userProfileService, oboUserService, $timeout;
    beforeEach(angular.mock.module('FxPApp'));

    beforeEach(function () {
        angular.mock.module(function ($provide) {
            $provide.service("UserInfoService", function () {
                this.setOBOUserSessionInfo = jasmine.createSpy("setOBOUserSessionInfo").and.callFake(function () {
                })
                this.setCurrentUser = jasmine.createSpy("setCurrentUser").and.callFake(function () {
                });
            });
            $provide.service("FxpMessageService", function () {
                this.addMessage = jasmine.createSpy("addMessage").and.callFake(function (a, b) {
                    console.log('addMessage: ' + a + '' + b);
                });
            });
            $provide.service("FxpContextService", function () {
                this.saveContext = jasmine.createSpy("saveContext").and.callFake(function (a, b) {
                });

                this.readContext = jasmine.createSpy("readContext").and.callFake(function () {
                    return {
                        then: function (callback) {
                            return callback(
                                {
                                    IsError: false,
                                    Result: JSON.stringify({ OBOUserStatus: false, OBOUser: { alias: "v-gdjag@microsoft.com" }, OBOUserRoutes: [], OBOUserSessionInfo: {}, OBOUserTenantConfiguration: {} })
                                });
                        }
                    }
                });

                this.deleteContext = jasmine.createSpy("deleteContext").and.callFake(function (a) {
                    return {
                        then: function (callback) {
                            return callback({});
                        }
                    }
                });
            });
            $provide.service("UserProfileService", function () {
                this.getCalimsSvc = jasmine.createSpy("getCalimsSvc").and.callFake(function () {
                    return {
                        then: function (callback) {
                            return callback({});
                        }
                    }
                });

                this.setCurrentUser = jasmine.createSpy("setCurrentUser").and.callFake(function () {
                });
            });
        });
    });

    beforeEach(angular.mock.inject(function (_$rootScope_, FxpContextService, _$q_, _$timeout_, FxpMessageService, UserInfoService, UserProfileService, _OBOUserService_) {
        $rootScope = _$rootScope_;
        fxpContextService = FxpContextService;
        $q = _$q_;
        $timeout = _$timeout_;
        fxpMessageService = FxpMessageService;
        userInfoService = UserInfoService;
        userProfileService = UserProfileService;
        oboUserService = _OBOUserService_;
    }));

    describe("When we have initilizeOBOEntity", () => {
        var result;
        var oboData = { "OBOUserStatus": true, "OBOUserRoutes": { "NavigationItems": [], "TileCollection": [], "Routes": [{ "StateName": "AccountConsumptionPowerBI", "RouteConfig": "{\"url\":\"/AccountConsumption\",\"templateUrl\":\"/templates/powerBi.html\",\"controller\":\"PowerBiPageController\",\"requireADLogin\":\"true\",\"params\":{\"groupId\":\"1a13d35e-a7e4-41ef-bfb6-3f0e02788f6b\",\"dashboardId\":\"5018e77a-3ed3-4809-8fc5-2a26720fb038\"}}", "Style": "icon icon-people", "AppHeader": "PowerBi", "PageTitle": "PowerBi", "BreadcrumbText": null }, { "StateName": "dm", "RouteConfig": "{\"url\":\"/dmux\",\"templateUrl\":\"https://dmui.azureedge.net/dm-ux/app.html\",\"css\":\"https://dmui.azureedge.net/dm-ux/main.styles.css\"}", "Style": null, "AppHeader": "Delivery Management", "PageTitle": "Delivery Management", "BreadcrumbText": "Delivery Management" }, { "StateName": "de", "RouteConfig": "{\"url\":\"/de\",\"templateUrl\":\"https://dmui.azureedge.net/delegation-ux/Delegationapp.html\",\"css\":\"https://dmui.azureedge.net/delegation-ux/main.styles.css\"}", "Style": null, "AppHeader": "Delegation", "PageTitle": "Delegation", "BreadcrumbText": null }, { "StateName": "Dashboard", "RouteConfig": "{\"url\": \"/dashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/resourcedashboard/html/resourcedashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Dashboard", "PageTitle": "Dashboard - GRM", "BreadcrumbText": "Dashboard" }, { "StateName": "grm-rmdashboard", "RouteConfig": "{\"url\":\"/rmdashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/rmdashboard/html/rmdashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "RM Dashboard - GRM", "BreadcrumbText": "RM Dashboard" }, { "StateName": "grm-rmrequest", "RouteConfig": "{ \"url\":\"/rmrequests/:requestype/:status/:zone/:analyticstype/:quicksearch/:reasonCodeProblemTypeId\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/request/html/request.html\", \"requireADLogin\": \"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Request Resource - GRM", "BreadcrumbText": null }, { "StateName": "grm-request", "RouteConfig": "{ \"url\":\"/requests/:requestype/:status/:zone/:analyticstype/:quicksearch/:reasonCodeProblemTypeId\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/request/html/request.html\", \"requireADLogin\": \"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Request Resource - GRM", "BreadcrumbText": null }, { "StateName": "BIDashboard", "RouteConfig": "{\"url\":\"/bidashboard/:reportname\",\"templateUrl\":\"https://endpoint897449.azureedge.net/1.0/BIDashboard.html\",\"controller\":\"BIDashboardCtrl\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "BI Dashboard", "PageTitle": "BI Dashboard", "BreadcrumbText": null }, { "StateName": "BIDashboardtile", "RouteConfig": "{\"url\":\"/bidashboardtile/:reportname\",\"templateUrl\":\"https://endpoint897449.azureedge.net/1.0/BIDashboardtile.html\",\"controller\":\"BIDashboardtileCtrl\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "BI Dashboard tile", "PageTitle": "BI Dashboard Tile", "BreadcrumbText": null }, { "StateName": "BIDashboardFAQ", "RouteConfig": "{\"url\":\"/bidashboardfaq\",\"templateUrl\":\"https://endpoint897449.azureedge.net/1.0/BIDashboardFAQ.html\",\"controller\":\"BIDashboardFAQCtrl\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "BI Dashboard", "PageTitle": "BI Dashboard FAQ", "BreadcrumbText": null }, { "StateName": "requestor", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-layout.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Requests - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-home.html\",\"controller\":\"RequestHomeController\",\"controllerAs\":\"vm\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Requests", "BreadcrumbText": null }, { "StateName": "requestor.home.actionRequired", "RouteConfig": "{\"url\":\"/request/action\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-required.html\",\"controller\":\"ActionRequiredController\",\"controllerAs\":\"vm\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Requests - GRM", "BreadcrumbText": "Resource Requests" }, { "StateName": "requestor.home.actionRequired.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : []},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Actions - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home.myRequests", "RouteConfig": "{\"url\":\"/project/search\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project-search.html\",\"controller\":\"ProjectSearchController\",\"controllerAs\":\"vm\",\"params\" : { \"mode\" : \"search\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "My Projects - GRM", "BreadcrumbText": "My Projects" }, { "StateName": "requestor.home.myRequests.maintenanceFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-maintenance-flyout.html\",\"controller\":\"RequestMaintenanceController\",\"controllerAs\":\"vm\",\"params\" : { \"maintenanceEntity\" : \"''\",\"requestIds\" :[],\"requestStatus\" : \"''\",\"lstRequestMaintenanceActions\" : [],\"lstRequestMaintenanceReasonCodes\" : [], \"demandSourceType\": \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Maintenance - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home.myRequests.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : []},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - My Requests - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home.createRequest", "RouteConfig": "{\"url\":\"/project/create/delivery\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project-search.html\",\"controller\":\"ProjectSearchController\",\"controllerAs\":\"vm\",\"params\" : { \"mode\" : \"create\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Create Delivery Project - GRM", "BreadcrumbText": "Create Delivery Project" }, { "StateName": "requestor.home.createInternalRequest", "RouteConfig": "{\"url\":\"/project/create/internal\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project.html\",\"controller\":\"ProjectController\",\"params\" : { \"mode\" : \"create\"},\"controllerAs\":\"vm\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Create Internal Project - GRM", "BreadcrumbText": "Create Internal Project" }, { "StateName": "requestor.projectDetails", "RouteConfig": "{\"url\":\"/project/:projectId/:isDraft/:persona\",\"views\":{\"\": {\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project-details.html\",\"controller\":\"ProjectDetailsController\",\"controllerAs\":\"vm\"},\"projectInfo@requestor.projectDetails\": {\"templateUrl\": \"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project.html\",\"controller\":\"ProjectController\",\"controllerAs\":\"vm\"} },\"params\" : { \"isDraft\" : \"false\",\"mode\" : \"view\",\"projectRequestFromContext\" : null,\"shouldDisplayProjectAction\" : true,\"shouldDisplayProjectHyperlink\" : false,\"demandSourceProjectObjectFromContext\": null},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Project Details - GRM", "BreadcrumbText": "Project Details" }, { "StateName": "requestor.projectDetails.maintenanceFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-maintenance-flyout.html\",\"controller\":\"RequestMaintenanceController\",\"controllerAs\":\"vm\",\"params\" : { \"maintenanceEntity\" : \"''\",\"requestIds\" :[],\"requestStatus\" : \"''\",\"lstRequestMaintenanceActions\" : [],\"lstRequestMaintenanceReasonCodes\" : [], \"demandSourceType\": \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Maintenance - GRM", "BreadcrumbText": null }, { "StateName": "requestor.projectDetails.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"demandSourceType\" : \"''\",\"isTAndESelected\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : []},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Project Details - GRM", "BreadcrumbText": null }, { "StateName": "requestor.roleDetails", "RouteConfig": "{\"url\":\"/project/:projectId/resource/:resourceId/:isDraft/:persona\",\"views\":{\"\": {\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/role-details.html\",\"controller\":\"RoleDetailsController\",\"controllerAs\":\"vm\"},\"projectInfo@requestor.roleDetails\": {\"templateUrl\": \"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project.html\",\"controller\":\"ProjectController\",\"controllerAs\":\"vm\"} },\"params\" : { \"isDraft\" : \"false\", \"mode\" : \"view\",\"projectRequestFromContext\" : null,\"shouldDisplayProjectAction\" : false,\"shouldDisplayProjectHyperlink\" : true, \"demandSourceProjectObjectFromContext\": null,\"msxDetailsFromContext\":null},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Request Details - GRM", "BreadcrumbText": "Request Details" }, { "StateName": "requestor.roleDetails.maintenanceFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-maintenance-flyout.html\",\"controller\":\"RequestMaintenanceController\",\"controllerAs\":\"vm\",\"params\" : { \"maintenanceEntity\" : \"''\",\"requestIds\" :[],\"requestStatus\" : \"''\",\"lstRequestMaintenanceActions\" : [],\"lstRequestMaintenanceReasonCodes\" : [], \"demandSourceType\": \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Maintenance - GRM", "BreadcrumbText": null }, { "StateName": "requestor.roleDetails.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : [],\"requestStatus\" : \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Role Details - GRM", "BreadcrumbText": null }, { "StateName": "requestor.roleDetails.ownershipFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/ownership-flyout.html\",\"controller\":\"OwnershipController\",\"controllerAs\":\"vm\",\"params\" : { \"requestId\" : \"''\",\"projectName\" : \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Role Details - GRM", "BreadcrumbText": null }, { "StateName": "grm-admin", "RouteConfig": "{\"url\": \"/admin\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/admin-layout.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Adminstration", "PageTitle": "Adminstration - GRM", "BreadcrumbText": "Administration" }, { "StateName": "grm-admin.home", "RouteConfig": "{\"url\":\"/admindashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/admindashboard.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Adminstration", "PageTitle": "Adminstration - GRM", "BreadcrumbText": "Administration" }, { "StateName": "grm-admin.managequeues", "RouteConfig": "{\"url\": \"/managequeues\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/adminqueuesubscriptions.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Manage Queue - GRM", "BreadcrumbText": "Manage Queue" }, { "StateName": "grm-admin.manageevent", "RouteConfig": "{\"url\": \"/manageevent\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/event/manageevent.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Calendar Configuration - GRM", "BreadcrumbText": "Calendar Configuration" }, { "StateName": "grm-admin.workforce", "RouteConfig": "{\"url\": \"/workforce\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/workforce.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Manage Holidays - GRM", "BreadcrumbText": "Manage Holidays" }, { "StateName": "grm-admin.usertag", "RouteConfig": "{\"url\": \"/usertag\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/usertag.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Manage User Tags - GRM", "BreadcrumbText": "Manage User Tags" }, { "StateName": "grm-admin.compasssyncupdate", "RouteConfig": "{\"url\": \"/compasssyncupdate\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/compass-sync-update.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Compass Sync Update - GRM", "BreadcrumbText": "Compass Sync Update" }, { "StateName": "grm-resourcedashboard", "RouteConfig": "{\"url\": \"/resourcedashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/resourcedashboard/html/resourcedashboard.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Calendar - GRM", "BreadcrumbText": "Calendar" }, { "StateName": "grm-resourcedashboardquicksearch", "RouteConfig": "{ \"url\":\"/resourcedashboard/:alias/:role\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/resourcedashboard/html/resourcedashboard.html\", \"requireADLogin\": \"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Calendar - GRM", "BreadcrumbText": "Resource Calendar" }, { "StateName": "grm-fmdashboard", "RouteConfig": "{\"url\":\"/fmdashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/fmdashboard/html/fmdashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "FM Dashboard - GRM", "BreadcrumbText": "FM Dashboard" }, { "StateName": "grm-fmpendingevents", "RouteConfig": "{\"url\":\"/fmpendingevents\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/fmdashboard/html/fmteampendingevents.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Manage Events - GRM", "BreadcrumbText": "Manage Events" }, { "StateName": "grm-fmmultipleevententry", "RouteConfig": "{\"url\":\"/fmmultipleevententry\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/fmmanageevententry.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Bulk Events Upload - GRM", "BreadcrumbText": "Bulk Events Upload" }, { "StateName": "grm-skillsearch", "RouteConfig": "{\"url\":\"/skillsearch\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/skillsearch/html/skillsearchindex.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Search - GRM", "BreadcrumbText": "Resource Search" }, { "StateName": "grm-skillsearchresult", "RouteConfig": "{\"url\":\"/skillsearchresult/:ReqId/:Fmpg/:RequestType/:StartTime/:zone/:analytictype\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/skillsearch/html/skillsearchresultindex.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Search Results - GRM", "BreadcrumbText": "Resource Search" }, { "StateName": "grm-rdskillsearchresult", "RouteConfig": "{\"url\":\"/rdskillsearchresults/:ProjId/:ReqId/:Fmpg/:Persona/:isDraft\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/skillsearch/html/skillsearchresultindex.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Search Results - GRM", "BreadcrumbText": "Resource Search" }, { "StateName": "unauthorized", "RouteConfig": "{\"url\": \"/unauthorized\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/shared/templates/unauthorized.template.html\"}", "Style": "icon icon-people", "AppHeader": "Unauthorized", "PageTitle": "Unauthorized", "BreadcrumbText": null }, { "StateName": "SystemDown", "RouteConfig": "{\"url\":\"/SystemDown\",\"templateUrl\":\"/templates/system_down.template.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "System Down", "PageTitle": "System Down", "BreadcrumbText": "System Down" }, { "StateName": "grm-readinessmanager", "RouteConfig": "{\"url\":\"/readinessmanager\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/readinessmgrdashboard/html/readinessmgrdashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Readiness Manager Dashboard - GRM", "BreadcrumbText": "Readiness Manager Dashboard" }, { "StateName": "grm-quicksearch", "RouteConfig": "{\"url\":\"/quicksearch\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/quicksearch/html/quicksearch.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Search - GRM", "BreadcrumbText": "Search" }, { "StateName": "oneprofile.default", "RouteConfig": "{\"url\":\"^/default\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/defaults.html\", \"controller\": \"defaultController\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile", "RouteConfig": "{\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/one-profile-master.html\",   \"controller\": \"oneProfileController\", \"AppHeader\":\"OPSScreen\", \"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.categories", "RouteConfig": "{\"url\":\"^/categories/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/skills-page.html\", \"controller\": \"skillsController as skillsCtrl\", \"AppHeader\":\"OPSScreen\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Skills Assessment – Profile", "BreadcrumbText": "Skill Assessment" }, { "StateName": "oneprofile.skillAssessmentDashboard", "RouteConfig": "{\"url\":\"^/assesmentDashboard/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/skill-assessment-dashboard.html\", \"controller\": \"SkillAssessmentDashboardController\", \"AppHeader\":\"OPSScreen\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Skills – Profile", "BreadcrumbText": "Skills" }, { "StateName": "oneprofile.skillsRating", "RouteConfig": "{\"url\":\"^/skillRating/:alias/{name:any}/:layoutCount/:accordian/:searchedParent\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/skillsdetails.html\", \"controller\": \"SkillRateController\", \"AppHeader\":\"OPSScreen\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Skill Rating – Profile", "BreadcrumbText": "Skill Rating" }, { "StateName": "oneprofile.profile", "RouteConfig": "{\"url\":\"^/profile/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-user.html\", \"controller\": \"ProfileController as profileCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.certifications", "RouteConfig": "{\"url\":\"^/Certifications/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/manage-certifications.html\", \"controller\": \"\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Certifications – Profile", "BreadcrumbText": "Certifications" }, { "StateName": "oneprofile.accreditations", "RouteConfig": "{\"url\":\"^/Accreditations/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/manage-accredations.html\", \"controller\": \"\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Accreditations – Profile", "BreadcrumbText": "Accreditations" }, { "StateName": "oneprofile.CreateUserProfile", "RouteConfig": "{\"url\":\"^/CreateUserProfile\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/create-profile.html\", \"controller\": \"adminCreateProfileController  as adminCPCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin – Create profile", "BreadcrumbText": "Create Profiles" }, { "StateName": "oneprofile.rmBulkOperations", "RouteConfig": "{\"url\":\"^/rmBulkOperations/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/rm-bulk-operations.html\",\"controller\": \"readinessManagerBulkUploadsController as sample\",  \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Bulk Accreditation Management", "BreadcrumbText": "Bulk Accreditation Management" }, { "StateName": "oneprofile.AccreditationsManagement", "RouteConfig": "{\"url\":\"^/AccreditationsManagement/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/service-to-build-mapping.html\",\"controller\": \"serviceToBuildMappingController as buildIdCtrl\",  \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Auto Accreditations Management", "BreadcrumbText": "Auto Accreditations Management" }, { "StateName": "oneprofile.customErrorPage", "RouteConfig": "{\"url\":\"^/customErrorPage/:errorCode\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profileerror.html\", \"controller\": \"errorPageController\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Error", "BreadcrumbText": "" }, { "StateName": "oneprofile.profile.basic", "RouteConfig": "{\"url\":\"^/profile/:alias/basic\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-basic.html\", \"controller\": \"ProfileBasicController as profileBasicCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.profile.area", "RouteConfig": "{\"url\":\"^/profile/:alias/skills\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-area.html\", \"controller\": \"areasOfExpertiseController as profileAreaCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.profile.skillsdevelopment", "RouteConfig": "{\"url\":\"^/profile/:alias/skillsdevelopment\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-credentials.html\", \"controller\": \"\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.profile.travel", "RouteConfig": "{\"url\":\"^/profile/:alias/eligibility\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-travel.html\", \"controller\": \"ProfileTravelController as profileTravelCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "UserLookupPersonalization", "RouteConfig": "{\"url\":\"/userlookuppersonalization\",\"templateUrl\":\"/templates/userLookupPersonalization.html\",\"controller\":\"UserLookupPersonalizationController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Personalize User Navigation", "BreadcrumbText": "Personalize User Navigation" }, { "StateName": "LeftNavPersonalization", "RouteConfig": "{\"url\":\"/leftnavpersonalization\",\"templateUrl\":\"/templates/leftnavpersonalization.html\",\"controller\":\"LeftNavPersonalizationController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Personalize Left Navigation", "BreadcrumbText": "Personalize Left Navigation" }, { "StateName": "ManageRoleNavigation", "RouteConfig": "{\"url\":\"/manage-role-navigation\",\"templateUrl\":\"/templates/roleNavPersonalization.html\",\"controller\":\"RoleNavPersonalizationController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Manage Role Navigation", "BreadcrumbText": "Manage Role Navigation" }, { "StateName": "oneprofile.UpdateUserProfile", "RouteConfig": "{\"url\":\"^/UpdateUserProfile\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/update-profile.html\", \"controller\": \"adminUpdateProfileController\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Update Profile – Admin Dashboard", "BreadcrumbText": null }, { "StateName": "adminactonbehalf", "RouteConfig": "{\"url\":\"/ActOnBehalf\",\"templateUrl\":\"/templates/OnBehalfOf.html\",\"controller\":\"ActOnBehalfOfController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Act on Behalf", "BreadcrumbText": "Act On Behalf" }, { "StateName": "Help", "RouteConfig": "{\"url\":\"/Help\",\"templateUrl\":\"/templates/fxphelp.html\",\"controller\":\"HelpController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Help", "PageTitle": "Help", "BreadcrumbText": "Help" }, { "StateName": "SystemMessages", "RouteConfig": "{\"url\":\"/system-messages\",\"templateUrl\":\"/templates/system-message-manage.html\",\"controller\":\"SystemMessagesController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "System Messages", "BreadcrumbText": "System Messages" }, { "StateName": "AuthorNotification", "RouteConfig": "{\"url\":\"/AuthorNotification\",\"templateUrl\":\"/templates/fxpAuthorNotification.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Create Notification", "BreadcrumbText": "Create Notification" }, { "StateName": "DM-MyPortfolio-State", "RouteConfig": "{\"url\":\"/myportfolio\",\"templateUrl\":\"https://auroradmuxdev.blob.core.windows.net/dm-ux/app.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Delivery Management", "PageTitle": " My Portfolio", "BreadcrumbText": "My Portfolio" }, { "StateName": "DM-Delegation-State", "RouteConfig": "{\"url\":\"/delegate\",\"templateUrl\":\"https://auroradmuxdev.blob.core.windows.net/dm-ux/underconstruction.html\",\"requireADLogin\":\"false/\"}", "Style": "icon icon-people", "AppHeader": "Delivery Management", "PageTitle": "Delegation", "BreadcrumbText": "Delegation" }, { "StateName": "DM-Reports-State", "RouteConfig": "{\"url\":\"/dmreports\",\"templateUrl\":\"https://auroradmuxdev.blob.core.windows.net/dm-ux/underconstruction.html\",\"requireADLogin\":\"false/\"}", "Style": "icon icon-people", "AppHeader": "Delivery Management", "PageTitle": "Reports", "BreadcrumbText": "Reports" }, { "StateName": "OnCall", "RouteConfig": "{\"url\":\"/OnCall\",\"templateUrl\":\"https://fxpintstorage.blob.core.windows.net/files/Oncall.html\"}", "Style": "icon icon-people", "AppHeader": "OnCall", "PageTitle": "OnCall Search", "BreadcrumbText": "OnCall Search" }], "ServiceAppsResult": { "MessageType": null, "Message": null }, "ServiceApplications": [{ "Id": "1", "Order": 0, "AppName": "GRM", "AppChar": "G", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 1 }, { "Id": "2", "Order": 0, "AppName": "Unicorn", "AppChar": "U", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 2 }, { "Id": "3", "Order": 0, "AppName": "Chronos", "AppChar": "Ch", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 3 }, { "Id": "4", "Order": 0, "AppName": "AppX", "AppChar": "X", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 4 }, { "Id": "5", "Order": 0, "AppName": "AppY", "AppChar": "Y", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 5 }], "ListofApps": ["1", "4"], "FxpHelp": null, "HelpMenuCollection": null, "RoleGroup": { "Name": "Delivery Resource", "Id": 2, "Key": "2_DeliveryResource" } }, "OBOUser": { "fullName": "Ankit Aguinaldo", "displayName": "Ankit Aguinaldo", "alias": "v-ganan", "href": "#/profile/v-ganan", "businessRoleId": 59, "businessRole": "Non Services User", "roleGroupId": 2, "roleGroupName": "Delivery Resource" }, "OBOUserSessionInfo": "{\"firstName\":\"Ankit\",\"lastName\":\"Aguinaldo\",\"middleName\":null,\"fullName\":\"Ankit Aguinaldo\",\"preferredFirstName\":null,\"displayName\":\"Ankit Aguinaldo\",\"reportsToDisplayName\":\"Sai Pratyusha Donepudi LaFleur\",\"EmailName\":\"v-ganan@microsoft.com\",\"alias\":\"v-ganan\",\"domain\":\"corpnet\",\"SDODomain\":null,\"personnelNumber\":1169122,\"primaryTool\":\"Axis\",\"reportsTo\":\"vemami\",\"reportsToFullName\":\"LaFleur, Sai Pratyusha\",\"costCenterCode\":\"10154410  \",\"hiringDate\":null,\"terminationDate\":null,\"serviceJobTitle\":null,\"HomeLocation\":{\"HomeCountry\":null,\"HomeCountryName\":null,\"HomeState\":null,\"HomeCity\":null,\"HomeLocLongitude\":null,\"HomeLocLatitude\":null},\"WorkLocation\":{\"WorkCountryCode\":null,\"WorkCountry\":null,\"WorkState\":null,\"WorkCity\":null,\"WorkLocLatitude\":null,\"WorkLocLogitude\":null},\"Weekdays\":[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\"],\"resourceType\":null,\"alignmentType\":\"\",\"standardTitle\":\"XR - MSR Software Development\",\"companyCode\":1190,\"subAreaCode\":1000,\"countryCode\":null,\"homeLocationNotFoundInd\":true,\"timeZoneId\":72,\"standardTimeZone\":\"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi\",\"resourceStatus\":\"Z\",\"resourceCategory\":\"Contingent Staff\",\"businessRole\":\"Non Services User\",\"businessRoleId\":59,\"seniority\":null,\"resumeUrl\":null,\"functionHierarchyCode\":\"BGBG\",\"RoleGroupID\":2,\"roleGroupName\":\"Delivery Resource\",\"SupplierCompanyName\":null,\"BusinessPartnerId\":null,\"SupplierCompanyId\":null,\"Qualifier1\":null,\"Qualifier2\":null,\"TenantKey\":\"2073c8e1-24d4-4dd2-a2f0-730ae86e4d66\",\"TenantName\":\"ES\",\"businessDomain\":null,\"roleGroupId\":2,\"email\":\"v-ganan@microsoft.com\",\"businessRoleDisplayName\":\"Non Services User\"}", "OBOUserTenantConfiguration": { "TenantId": "ES", "UIStrings": { "Domain": "Domain", "AppHeader": "Enterprise Services Experience - DIT", "AppHeaderAlias": "ES" }, "HelpMenuCollection": [{ "DisplayText": "<i class=\"icon icon-helpbot\"></i> Contact Support Bot", "Description": "Need assistance? Try asking our support bot, click this link to start a Skype chat.", "Href": "sip:itlync@microsoft.com", "RouteConfig": null, "Title": "Chat with our Support Bot", "OpenInline": "true", "StateName": null, "EventName": "SkypeBotInit", "ApplicableDevice": "Desktop" }, { "DisplayText": "<i class=\"icon icon-helpdetail\"></i> Detailed Help", "Description": null, "Href": "#/Help", "RouteConfig": "{\"url\":\"/Help\",\"templateUrl\":\"/templates/fxphelp.html\",\"controller\":\"HelpController\",\"requireADLogin\":\"true\"}", "Title": "Detailed Help", "OpenInline": "false", "StateName": "Help", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "<i class=\"pagetour__icon icon-pagetour\"></i> Page Tour", "Description": "Page Tour tutorials", "Href": null, "RouteConfig": null, "Title": "Page Tour tutorials menu", "OpenInline": "true", "StateName": null, "EventName": "PageTourMenuInit", "ApplicableDevice": "Desktop" }], "HelpConfiguration": { "Title": "What can we help you with?", "FxpHelpLinks": [{ "DisplayText": "Self-help", "DisplayText_Flyout": "Self Service", "DisplayOrder": "1", "Icon": "icon icon-user", "HelpLinks": [{ "DisplayText": "Access user guides & training", "DisplayOrder": "2", "Href": "https://aka.ms/GRMTraining", "Title": "Access user guides & training", "OpenInline": null, "Description": "User guides, training decks and quick reference guides for GRM and One Profile.", "EventName": null, "ApplicableDevice": null }] }, { "DisplayText": "Assisted Help", "DisplayText_Flyout": "Get Help", "DisplayOrder": "2", "Icon": "icon icon-assisted-help", "HelpLinks": [{ "DisplayText": "Contact GRM admin support", "DisplayOrder": "2", "Href": "mailto:GRMAdminHelp@microsoft.com", "Title": "Contact GRM admin support", "OpenInline": null, "Description": "Create a GRM support ticket for role provisioning, queue management, and Resource Manager to resource mapping (tagging).", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create GRM technical support ticket", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D717e9f05136d12005e2272722244b0c7%26short_description%3DGRM%20Support%20Request%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create GRM technical support ticket", "OpenInline": null, "Description": "Open a support ticket to get help with GRM technical issues.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create One Profile technical support ticket ", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D8c7fe10f13e89240691272722244b0fe%20%26short_description%3DOne%20Profile%20Tool%20Issue%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create One Profile technical support ticket ", "OpenInline": null, "Description": "Open a support ticket to get help with One Profile technical issues.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create One Profile skill update support ticket", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D5c3c7d9213a79e40a8f672722244b06c%26short_description%3DTaxonomy%20Support%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create One Profile skill update support ticket", "OpenInline": null, "Description": "Open a support ticket for help with adding missing or new skills in One Profile.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create Skills Development Plan Support Ticket", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D39a36dc2137da640e598b0912244b061%26short_description%3DServices%20University%20Support%20Request%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create Skills Development Plan Support Ticket", "OpenInline": null, "Description": "Open a Support Ticket for help with Skills Development Plan.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Contact Business Intelligence technical support", "DisplayOrder": "2", "Href": "mailto:esbibd@microsoft.com", "Title": "Contact Business Intelligence technical support ", "OpenInline": null, "Description": "Email esbibd@microsoft.com for Business Intelligence technical support.", "EventName": null, "ApplicableDevice": null }] }] } } }
        beforeEach(function () {
            var result = oboUserService.initilizeOBOEntity(oboData)
        });
        it("Then it should call setOBOUserSessionInfo method", () => {
            expect(userInfoService.setOBOUserSessionInfo).toHaveBeenCalled();
        });

        it("Then it should not call setCurrentUser method", () => {
            expect(userInfoService.setCurrentUser).not.toHaveBeenCalled();
        });
    });


    describe("When we have saveOBOEntityInContext", () => {
        var result;
        var oboUserData = { "OBOUserStatus": true, "OBOUserRoutes": { "NavigationItems": [], "TileCollection": [], "Routes": [{ "StateName": "AccountConsumptionPowerBI", "RouteConfig": "{\"url\":\"/AccountConsumption\",\"templateUrl\":\"/templates/powerBi.html\",\"controller\":\"PowerBiPageController\",\"requireADLogin\":\"true\",\"params\":{\"groupId\":\"1a13d35e-a7e4-41ef-bfb6-3f0e02788f6b\",\"dashboardId\":\"5018e77a-3ed3-4809-8fc5-2a26720fb038\"}}", "Style": "icon icon-people", "AppHeader": "PowerBi", "PageTitle": "PowerBi", "BreadcrumbText": null }, { "StateName": "dm", "RouteConfig": "{\"url\":\"/dmux\",\"templateUrl\":\"https://dmui.azureedge.net/dm-ux/app.html\",\"css\":\"https://dmui.azureedge.net/dm-ux/main.styles.css\"}", "Style": null, "AppHeader": "Delivery Management", "PageTitle": "Delivery Management", "BreadcrumbText": "Delivery Management" }, { "StateName": "de", "RouteConfig": "{\"url\":\"/de\",\"templateUrl\":\"https://dmui.azureedge.net/delegation-ux/Delegationapp.html\",\"css\":\"https://dmui.azureedge.net/delegation-ux/main.styles.css\"}", "Style": null, "AppHeader": "Delegation", "PageTitle": "Delegation", "BreadcrumbText": null }, { "StateName": "Dashboard", "RouteConfig": "{\"url\": \"/dashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/resourcedashboard/html/resourcedashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Dashboard", "PageTitle": "Dashboard - GRM", "BreadcrumbText": "Dashboard" }, { "StateName": "grm-rmdashboard", "RouteConfig": "{\"url\":\"/rmdashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/rmdashboard/html/rmdashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "RM Dashboard - GRM", "BreadcrumbText": "RM Dashboard" }, { "StateName": "grm-rmrequest", "RouteConfig": "{ \"url\":\"/rmrequests/:requestype/:status/:zone/:analyticstype/:quicksearch/:reasonCodeProblemTypeId\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/request/html/request.html\", \"requireADLogin\": \"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Request Resource - GRM", "BreadcrumbText": null }, { "StateName": "grm-request", "RouteConfig": "{ \"url\":\"/requests/:requestype/:status/:zone/:analyticstype/:quicksearch/:reasonCodeProblemTypeId\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/request/html/request.html\", \"requireADLogin\": \"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Request Resource - GRM", "BreadcrumbText": null }, { "StateName": "BIDashboard", "RouteConfig": "{\"url\":\"/bidashboard/:reportname\",\"templateUrl\":\"https://endpoint897449.azureedge.net/1.0/BIDashboard.html\",\"controller\":\"BIDashboardCtrl\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "BI Dashboard", "PageTitle": "BI Dashboard", "BreadcrumbText": null }, { "StateName": "BIDashboardtile", "RouteConfig": "{\"url\":\"/bidashboardtile/:reportname\",\"templateUrl\":\"https://endpoint897449.azureedge.net/1.0/BIDashboardtile.html\",\"controller\":\"BIDashboardtileCtrl\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "BI Dashboard tile", "PageTitle": "BI Dashboard Tile", "BreadcrumbText": null }, { "StateName": "BIDashboardFAQ", "RouteConfig": "{\"url\":\"/bidashboardfaq\",\"templateUrl\":\"https://endpoint897449.azureedge.net/1.0/BIDashboardFAQ.html\",\"controller\":\"BIDashboardFAQCtrl\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "BI Dashboard", "PageTitle": "BI Dashboard FAQ", "BreadcrumbText": null }, { "StateName": "requestor", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-layout.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Requests - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-home.html\",\"controller\":\"RequestHomeController\",\"controllerAs\":\"vm\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Requests", "BreadcrumbText": null }, { "StateName": "requestor.home.actionRequired", "RouteConfig": "{\"url\":\"/request/action\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-required.html\",\"controller\":\"ActionRequiredController\",\"controllerAs\":\"vm\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Requests - GRM", "BreadcrumbText": "Resource Requests" }, { "StateName": "requestor.home.actionRequired.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : []},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Actions - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home.myRequests", "RouteConfig": "{\"url\":\"/project/search\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project-search.html\",\"controller\":\"ProjectSearchController\",\"controllerAs\":\"vm\",\"params\" : { \"mode\" : \"search\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "My Projects - GRM", "BreadcrumbText": "My Projects" }, { "StateName": "requestor.home.myRequests.maintenanceFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-maintenance-flyout.html\",\"controller\":\"RequestMaintenanceController\",\"controllerAs\":\"vm\",\"params\" : { \"maintenanceEntity\" : \"''\",\"requestIds\" :[],\"requestStatus\" : \"''\",\"lstRequestMaintenanceActions\" : [],\"lstRequestMaintenanceReasonCodes\" : [], \"demandSourceType\": \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Maintenance - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home.myRequests.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : []},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - My Requests - GRM", "BreadcrumbText": null }, { "StateName": "requestor.home.createRequest", "RouteConfig": "{\"url\":\"/project/create/delivery\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project-search.html\",\"controller\":\"ProjectSearchController\",\"controllerAs\":\"vm\",\"params\" : { \"mode\" : \"create\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Create Delivery Project - GRM", "BreadcrumbText": "Create Delivery Project" }, { "StateName": "requestor.home.createInternalRequest", "RouteConfig": "{\"url\":\"/project/create/internal\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project.html\",\"controller\":\"ProjectController\",\"params\" : { \"mode\" : \"create\"},\"controllerAs\":\"vm\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Create Internal Project - GRM", "BreadcrumbText": "Create Internal Project" }, { "StateName": "requestor.projectDetails", "RouteConfig": "{\"url\":\"/project/:projectId/:isDraft/:persona\",\"views\":{\"\": {\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project-details.html\",\"controller\":\"ProjectDetailsController\",\"controllerAs\":\"vm\"},\"projectInfo@requestor.projectDetails\": {\"templateUrl\": \"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project.html\",\"controller\":\"ProjectController\",\"controllerAs\":\"vm\"} },\"params\" : { \"isDraft\" : \"false\",\"mode\" : \"view\",\"projectRequestFromContext\" : null,\"shouldDisplayProjectAction\" : true,\"shouldDisplayProjectHyperlink\" : false,\"demandSourceProjectObjectFromContext\": null},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Project Details - GRM", "BreadcrumbText": "Project Details" }, { "StateName": "requestor.projectDetails.maintenanceFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-maintenance-flyout.html\",\"controller\":\"RequestMaintenanceController\",\"controllerAs\":\"vm\",\"params\" : { \"maintenanceEntity\" : \"''\",\"requestIds\" :[],\"requestStatus\" : \"''\",\"lstRequestMaintenanceActions\" : [],\"lstRequestMaintenanceReasonCodes\" : [], \"demandSourceType\": \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Maintenance - GRM", "BreadcrumbText": null }, { "StateName": "requestor.projectDetails.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"demandSourceType\" : \"''\",\"isTAndESelected\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : []},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Project Details - GRM", "BreadcrumbText": null }, { "StateName": "requestor.roleDetails", "RouteConfig": "{\"url\":\"/project/:projectId/resource/:resourceId/:isDraft/:persona\",\"views\":{\"\": {\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/role-details.html\",\"controller\":\"RoleDetailsController\",\"controllerAs\":\"vm\"},\"projectInfo@requestor.roleDetails\": {\"templateUrl\": \"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/project.html\",\"controller\":\"ProjectController\",\"controllerAs\":\"vm\"} },\"params\" : { \"isDraft\" : \"false\", \"mode\" : \"view\",\"projectRequestFromContext\" : null,\"shouldDisplayProjectAction\" : false,\"shouldDisplayProjectHyperlink\" : true, \"demandSourceProjectObjectFromContext\": null,\"msxDetailsFromContext\":null},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Request Details - GRM", "BreadcrumbText": "Request Details" }, { "StateName": "requestor.roleDetails.maintenanceFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/request-maintenance-flyout.html\",\"controller\":\"RequestMaintenanceController\",\"controllerAs\":\"vm\",\"params\" : { \"maintenanceEntity\" : \"''\",\"requestIds\" :[],\"requestStatus\" : \"''\",\"lstRequestMaintenanceActions\" : [],\"lstRequestMaintenanceReasonCodes\" : [], \"demandSourceType\": \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Maintenance - GRM", "BreadcrumbText": null }, { "StateName": "requestor.roleDetails.actionFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/action-flyout.html\",\"controller\":\"ActionController\",\"controllerAs\":\"vm\",\"params\" : { \"actionType\" : \"''\",\"requestType\" : \"''\",\"requestIds\" : [],\"lstReasonCodes\" : [],\"requestStatus\" : \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Role Details - GRM", "BreadcrumbText": null }, { "StateName": "requestor.roleDetails.ownershipFlyout", "RouteConfig": "{\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/requestexperience/templates/ownership-flyout.html\",\"controller\":\"OwnershipController\",\"controllerAs\":\"vm\",\"params\" : { \"requestId\" : \"''\",\"projectName\" : \"''\"},\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Requestor - Role Details - GRM", "BreadcrumbText": null }, { "StateName": "grm-admin", "RouteConfig": "{\"url\": \"/admin\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/admin-layout.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Adminstration", "PageTitle": "Adminstration - GRM", "BreadcrumbText": "Administration" }, { "StateName": "grm-admin.home", "RouteConfig": "{\"url\":\"/admindashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/admindashboard.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Adminstration", "PageTitle": "Adminstration - GRM", "BreadcrumbText": "Administration" }, { "StateName": "grm-admin.managequeues", "RouteConfig": "{\"url\": \"/managequeues\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/adminqueuesubscriptions.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Manage Queue - GRM", "BreadcrumbText": "Manage Queue" }, { "StateName": "grm-admin.manageevent", "RouteConfig": "{\"url\": \"/manageevent\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/event/manageevent.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Calendar Configuration - GRM", "BreadcrumbText": "Calendar Configuration" }, { "StateName": "grm-admin.workforce", "RouteConfig": "{\"url\": \"/workforce\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/workforce.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Manage Holidays - GRM", "BreadcrumbText": "Manage Holidays" }, { "StateName": "grm-admin.usertag", "RouteConfig": "{\"url\": \"/usertag\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/usertag.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Manage User Tags - GRM", "BreadcrumbText": "Manage User Tags" }, { "StateName": "grm-admin.compasssyncupdate", "RouteConfig": "{\"url\": \"/compasssyncupdate\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/compass-sync-update.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Compass Sync Update - GRM", "BreadcrumbText": "Compass Sync Update" }, { "StateName": "grm-resourcedashboard", "RouteConfig": "{\"url\": \"/resourcedashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/resourcedashboard/html/resourcedashboard.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Calendar - GRM", "BreadcrumbText": "Calendar" }, { "StateName": "grm-resourcedashboardquicksearch", "RouteConfig": "{ \"url\":\"/resourcedashboard/:alias/:role\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/resourcedashboard/html/resourcedashboard.html\", \"requireADLogin\": \"true\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Calendar - GRM", "BreadcrumbText": "Resource Calendar" }, { "StateName": "grm-fmdashboard", "RouteConfig": "{\"url\":\"/fmdashboard\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/fmdashboard/html/fmdashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "FM Dashboard - GRM", "BreadcrumbText": "FM Dashboard" }, { "StateName": "grm-fmpendingevents", "RouteConfig": "{\"url\":\"/fmpendingevents\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/fmdashboard/html/fmteampendingevents.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Manage Events - GRM", "BreadcrumbText": "Manage Events" }, { "StateName": "grm-fmmultipleevententry", "RouteConfig": "{\"url\":\"/fmmultipleevententry\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/admindashboard/html/fmmanageevententry.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Bulk Events Upload - GRM", "BreadcrumbText": "Bulk Events Upload" }, { "StateName": "grm-skillsearch", "RouteConfig": "{\"url\":\"/skillsearch\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/skillsearch/html/skillsearchindex.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Search - GRM", "BreadcrumbText": "Resource Search" }, { "StateName": "grm-skillsearchresult", "RouteConfig": "{\"url\":\"/skillsearchresult/:ReqId/:Fmpg/:RequestType/:StartTime/:zone/:analytictype\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/skillsearch/html/skillsearchresultindex.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Search Results - GRM", "BreadcrumbText": "Resource Search" }, { "StateName": "grm-rdskillsearchresult", "RouteConfig": "{\"url\":\"/rdskillsearchresults/:ProjId/:ReqId/:Fmpg/:Persona/:isDraft\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/skillsearch/html/skillsearchresultindex.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Resource Search Results - GRM", "BreadcrumbText": "Resource Search" }, { "StateName": "unauthorized", "RouteConfig": "{\"url\": \"/unauthorized\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/shared/templates/unauthorized.template.html\"}", "Style": "icon icon-people", "AppHeader": "Unauthorized", "PageTitle": "Unauthorized", "BreadcrumbText": null }, { "StateName": "SystemDown", "RouteConfig": "{\"url\":\"/SystemDown\",\"templateUrl\":\"/templates/system_down.template.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "System Down", "PageTitle": "System Down", "BreadcrumbText": "System Down" }, { "StateName": "grm-readinessmanager", "RouteConfig": "{\"url\":\"/readinessmanager\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/readinessmgrdashboard/html/readinessmgrdashboard.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Readiness Manager Dashboard - GRM", "BreadcrumbText": "Readiness Manager Dashboard" }, { "StateName": "grm-quicksearch", "RouteConfig": "{\"url\":\"/quicksearch\",\"templateUrl\":\"https://grmsitcdn.azureedge.net/js/app/quicksearch/html/quicksearch.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Resource Management", "PageTitle": "Search - GRM", "BreadcrumbText": "Search" }, { "StateName": "oneprofile.default", "RouteConfig": "{\"url\":\"^/default\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/defaults.html\", \"controller\": \"defaultController\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile", "RouteConfig": "{\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/one-profile-master.html\",   \"controller\": \"oneProfileController\", \"AppHeader\":\"OPSScreen\", \"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.categories", "RouteConfig": "{\"url\":\"^/categories/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/skills-page.html\", \"controller\": \"skillsController as skillsCtrl\", \"AppHeader\":\"OPSScreen\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Skills Assessment – Profile", "BreadcrumbText": "Skill Assessment" }, { "StateName": "oneprofile.skillAssessmentDashboard", "RouteConfig": "{\"url\":\"^/assesmentDashboard/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/skill-assessment-dashboard.html\", \"controller\": \"SkillAssessmentDashboardController\", \"AppHeader\":\"OPSScreen\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Skills – Profile", "BreadcrumbText": "Skills" }, { "StateName": "oneprofile.skillsRating", "RouteConfig": "{\"url\":\"^/skillRating/:alias/{name:any}/:layoutCount/:accordian/:searchedParent\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/skillsdetails.html\", \"controller\": \"SkillRateController\", \"AppHeader\":\"OPSScreen\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Skill Rating – Profile", "BreadcrumbText": "Skill Rating" }, { "StateName": "oneprofile.profile", "RouteConfig": "{\"url\":\"^/profile/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-user.html\", \"controller\": \"ProfileController as profileCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.certifications", "RouteConfig": "{\"url\":\"^/Certifications/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/manage-certifications.html\", \"controller\": \"\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Certifications – Profile", "BreadcrumbText": "Certifications" }, { "StateName": "oneprofile.accreditations", "RouteConfig": "{\"url\":\"^/Accreditations/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/manage-accredations.html\", \"controller\": \"\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Accreditations – Profile", "BreadcrumbText": "Accreditations" }, { "StateName": "oneprofile.CreateUserProfile", "RouteConfig": "{\"url\":\"^/CreateUserProfile\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/create-profile.html\", \"controller\": \"adminCreateProfileController  as adminCPCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin – Create profile", "BreadcrumbText": "Create Profiles" }, { "StateName": "oneprofile.rmBulkOperations", "RouteConfig": "{\"url\":\"^/rmBulkOperations/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/rm-bulk-operations.html\",\"controller\": \"readinessManagerBulkUploadsController as sample\",  \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Bulk Accreditation Management", "BreadcrumbText": "Bulk Accreditation Management" }, { "StateName": "oneprofile.AccreditationsManagement", "RouteConfig": "{\"url\":\"^/AccreditationsManagement/:alias\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/service-to-build-mapping.html\",\"controller\": \"serviceToBuildMappingController as buildIdCtrl\",  \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Auto Accreditations Management", "BreadcrumbText": "Auto Accreditations Management" }, { "StateName": "oneprofile.customErrorPage", "RouteConfig": "{\"url\":\"^/customErrorPage/:errorCode\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profileerror.html\", \"controller\": \"errorPageController\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Error", "BreadcrumbText": "" }, { "StateName": "oneprofile.profile.basic", "RouteConfig": "{\"url\":\"^/profile/:alias/basic\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-basic.html\", \"controller\": \"ProfileBasicController as profileBasicCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.profile.area", "RouteConfig": "{\"url\":\"^/profile/:alias/skills\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-area.html\", \"controller\": \"areasOfExpertiseController as profileAreaCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.profile.skillsdevelopment", "RouteConfig": "{\"url\":\"^/profile/:alias/skillsdevelopment\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-credentials.html\", \"controller\": \"\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "oneprofile.profile.travel", "RouteConfig": "{\"url\":\"^/profile/:alias/eligibility\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfile/Templates/profile-travel.html\", \"controller\": \"ProfileTravelController as profileTravelCtrl\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Profile - One Profile", "BreadcrumbText": "Profile Overview" }, { "StateName": "UserLookupPersonalization", "RouteConfig": "{\"url\":\"/userlookuppersonalization\",\"templateUrl\":\"/templates/userLookupPersonalization.html\",\"controller\":\"UserLookupPersonalizationController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Personalize User Navigation", "BreadcrumbText": "Personalize User Navigation" }, { "StateName": "LeftNavPersonalization", "RouteConfig": "{\"url\":\"/leftnavpersonalization\",\"templateUrl\":\"/templates/leftnavpersonalization.html\",\"controller\":\"LeftNavPersonalizationController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Personalize Left Navigation", "BreadcrumbText": "Personalize Left Navigation" }, { "StateName": "ManageRoleNavigation", "RouteConfig": "{\"url\":\"/manage-role-navigation\",\"templateUrl\":\"/templates/roleNavPersonalization.html\",\"controller\":\"RoleNavPersonalizationController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Manage Role Navigation", "BreadcrumbText": "Manage Role Navigation" }, { "StateName": "oneprofile.UpdateUserProfile", "RouteConfig": "{\"url\":\"^/UpdateUserProfile\",\"templateUrl\":\"https://oneprofile-grmdevcdn.azureedge.net/js/App/OneProfileAdmin/Templates/update-profile.html\", \"controller\": \"adminUpdateProfileController\", \"AppHeader\":\"OPSScreen\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Profile Management", "PageTitle": "Update Profile – Admin Dashboard", "BreadcrumbText": null }, { "StateName": "adminactonbehalf", "RouteConfig": "{\"url\":\"/ActOnBehalf\",\"templateUrl\":\"/templates/OnBehalfOf.html\",\"controller\":\"ActOnBehalfOfController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Admin - Act on Behalf", "BreadcrumbText": "Act On Behalf" }, { "StateName": "Help", "RouteConfig": "{\"url\":\"/Help\",\"templateUrl\":\"/templates/fxphelp.html\",\"controller\":\"HelpController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Help", "PageTitle": "Help", "BreadcrumbText": "Help" }, { "StateName": "SystemMessages", "RouteConfig": "{\"url\":\"/system-messages\",\"templateUrl\":\"/templates/system-message-manage.html\",\"controller\":\"SystemMessagesController\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "System Messages", "BreadcrumbText": "System Messages" }, { "StateName": "AuthorNotification", "RouteConfig": "{\"url\":\"/AuthorNotification\",\"templateUrl\":\"/templates/fxpAuthorNotification.html\",\"requireADLogin\":\"true\"}", "Style": "icon icon-people", "AppHeader": "Administration", "PageTitle": "Create Notification", "BreadcrumbText": "Create Notification" }, { "StateName": "DM-MyPortfolio-State", "RouteConfig": "{\"url\":\"/myportfolio\",\"templateUrl\":\"https://auroradmuxdev.blob.core.windows.net/dm-ux/app.html\",\"requireADLogin\":\"true/\"}", "Style": "icon icon-people", "AppHeader": "Delivery Management", "PageTitle": " My Portfolio", "BreadcrumbText": "My Portfolio" }, { "StateName": "DM-Delegation-State", "RouteConfig": "{\"url\":\"/delegate\",\"templateUrl\":\"https://auroradmuxdev.blob.core.windows.net/dm-ux/underconstruction.html\",\"requireADLogin\":\"false/\"}", "Style": "icon icon-people", "AppHeader": "Delivery Management", "PageTitle": "Delegation", "BreadcrumbText": "Delegation" }, { "StateName": "DM-Reports-State", "RouteConfig": "{\"url\":\"/dmreports\",\"templateUrl\":\"https://auroradmuxdev.blob.core.windows.net/dm-ux/underconstruction.html\",\"requireADLogin\":\"false/\"}", "Style": "icon icon-people", "AppHeader": "Delivery Management", "PageTitle": "Reports", "BreadcrumbText": "Reports" }, { "StateName": "OnCall", "RouteConfig": "{\"url\":\"/OnCall\",\"templateUrl\":\"https://fxpintstorage.blob.core.windows.net/files/Oncall.html\"}", "Style": "icon icon-people", "AppHeader": "OnCall", "PageTitle": "OnCall Search", "BreadcrumbText": "OnCall Search" }], "ServiceAppsResult": { "MessageType": null, "Message": null }, "ServiceApplications": [{ "Id": "1", "Order": 0, "AppName": "GRM", "AppChar": "G", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 1 }, { "Id": "2", "Order": 0, "AppName": "Unicorn", "AppChar": "U", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 2 }, { "Id": "3", "Order": 0, "AppName": "Chronos", "AppChar": "Ch", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 3 }, { "Id": "4", "Order": 0, "AppName": "AppX", "AppChar": "X", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 4 }, { "Id": "5", "Order": 0, "AppName": "AppY", "AppChar": "Y", "AppUrl": "#", "Role": null, "Icon": "", "TabIndex": 5 }], "ListofApps": ["1", "4"], "FxpHelp": null, "HelpMenuCollection": null, "RoleGroup": { "Name": "Delivery Resource", "Id": 2, "Key": "2_DeliveryResource" } }, "OBOUser": { "fullName": "Ankit Aguinaldo", "displayName": "Ankit Aguinaldo", "alias": "v-ganan", "href": "#/profile/v-ganan", "businessRoleId": 59, "businessRole": "Non Services User", "roleGroupId": 2, "roleGroupName": "Delivery Resource" }, "OBOUserSessionInfo": "{\"firstName\":\"Ankit\",\"lastName\":\"Aguinaldo\",\"middleName\":null,\"fullName\":\"Ankit Aguinaldo\",\"preferredFirstName\":null,\"displayName\":\"Ankit Aguinaldo\",\"reportsToDisplayName\":\"Sai Pratyusha Donepudi LaFleur\",\"EmailName\":\"v-ganan@microsoft.com\",\"alias\":\"v-ganan\",\"domain\":\"corpnet\",\"SDODomain\":null,\"personnelNumber\":1169122,\"primaryTool\":\"Axis\",\"reportsTo\":\"vemami\",\"reportsToFullName\":\"LaFleur, Sai Pratyusha\",\"costCenterCode\":\"10154410  \",\"hiringDate\":null,\"terminationDate\":null,\"serviceJobTitle\":null,\"HomeLocation\":{\"HomeCountry\":null,\"HomeCountryName\":null,\"HomeState\":null,\"HomeCity\":null,\"HomeLocLongitude\":null,\"HomeLocLatitude\":null},\"WorkLocation\":{\"WorkCountryCode\":null,\"WorkCountry\":null,\"WorkState\":null,\"WorkCity\":null,\"WorkLocLatitude\":null,\"WorkLocLogitude\":null},\"Weekdays\":[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\"],\"resourceType\":null,\"alignmentType\":\"\",\"standardTitle\":\"XR - MSR Software Development\",\"companyCode\":1190,\"subAreaCode\":1000,\"countryCode\":null,\"homeLocationNotFoundInd\":true,\"timeZoneId\":72,\"standardTimeZone\":\"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi\",\"resourceStatus\":\"Z\",\"resourceCategory\":\"Contingent Staff\",\"businessRole\":\"Non Services User\",\"businessRoleId\":59,\"seniority\":null,\"resumeUrl\":null,\"functionHierarchyCode\":\"BGBG\",\"RoleGroupID\":2,\"roleGroupName\":\"Delivery Resource\",\"SupplierCompanyName\":null,\"BusinessPartnerId\":null,\"SupplierCompanyId\":null,\"Qualifier1\":null,\"Qualifier2\":null,\"TenantKey\":\"2073c8e1-24d4-4dd2-a2f0-730ae86e4d66\",\"TenantName\":\"ES\",\"businessDomain\":null,\"roleGroupId\":2,\"email\":\"v-ganan@microsoft.com\",\"businessRoleDisplayName\":\"Non Services User\"}", "OBOUserTenantConfiguration": { "TenantId": "ES", "UIStrings": { "Domain": "Domain", "AppHeader": "Enterprise Services Experience - DIT", "AppHeaderAlias": "ES" }, "HelpMenuCollection": [{ "DisplayText": "<i class=\"icon icon-helpbot\"></i> Contact Support Bot", "Description": "Need assistance? Try asking our support bot, click this link to start a Skype chat.", "Href": "sip:itlync@microsoft.com", "RouteConfig": null, "Title": "Chat with our Support Bot", "OpenInline": "true", "StateName": null, "EventName": "SkypeBotInit", "ApplicableDevice": "Desktop" }, { "DisplayText": "<i class=\"icon icon-helpdetail\"></i> Detailed Help", "Description": null, "Href": "#/Help", "RouteConfig": "{\"url\":\"/Help\",\"templateUrl\":\"/templates/fxphelp.html\",\"controller\":\"HelpController\",\"requireADLogin\":\"true\"}", "Title": "Detailed Help", "OpenInline": "false", "StateName": "Help", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "<i class=\"pagetour__icon icon-pagetour\"></i> Page Tour", "Description": "Page Tour tutorials", "Href": null, "RouteConfig": null, "Title": "Page Tour tutorials menu", "OpenInline": "true", "StateName": null, "EventName": "PageTourMenuInit", "ApplicableDevice": "Desktop" }], "HelpConfiguration": { "Title": "What can we help you with?", "FxpHelpLinks": [{ "DisplayText": "Self-help", "DisplayText_Flyout": "Self Service", "DisplayOrder": "1", "Icon": "icon icon-user", "HelpLinks": [{ "DisplayText": "Access user guides & training", "DisplayOrder": "2", "Href": "https://aka.ms/GRMTraining", "Title": "Access user guides & training", "OpenInline": null, "Description": "User guides, training decks and quick reference guides for GRM and One Profile.", "EventName": null, "ApplicableDevice": null }] }, { "DisplayText": "Assisted Help", "DisplayText_Flyout": "Get Help", "DisplayOrder": "2", "Icon": "icon icon-assisted-help", "HelpLinks": [{ "DisplayText": "Contact GRM admin support", "DisplayOrder": "2", "Href": "mailto:GRMAdminHelp@microsoft.com", "Title": "Contact GRM admin support", "OpenInline": null, "Description": "Create a GRM support ticket for role provisioning, queue management, and Resource Manager to resource mapping (tagging).", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create GRM technical support ticket", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D717e9f05136d12005e2272722244b0c7%26short_description%3DGRM%20Support%20Request%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create GRM technical support ticket", "OpenInline": null, "Description": "Open a support ticket to get help with GRM technical issues.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create One Profile technical support ticket ", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D8c7fe10f13e89240691272722244b0fe%20%26short_description%3DOne%20Profile%20Tool%20Issue%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create One Profile technical support ticket ", "OpenInline": null, "Description": "Open a support ticket to get help with One Profile technical issues.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create One Profile skill update support ticket", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D5c3c7d9213a79e40a8f672722244b06c%26short_description%3DTaxonomy%20Support%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create One Profile skill update support ticket", "OpenInline": null, "Description": "Open a support ticket for help with adding missing or new skills in One Profile.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Create Skills Development Plan Support Ticket", "DisplayOrder": "2", "Href": "https://microsoft.service-now.com/it/catalog_detail.do?uri=com.glideapp.servicecatalog_cat_item_view.do%3Fv%3D1%26sysparm_id%3D906528a10a0a0bf000a85bc20dfb6541%26cmdb_ci%3D39a36dc2137da640e598b0912244b061%26short_description%3DServices%20University%20Support%20Request%26sysparm_no_search%3Dtrue&sysparm_document_key=sc_cat_item_producer,906528a10a0a0bf000a85bc20dfb6541", "Title": "Create Skills Development Plan Support Ticket", "OpenInline": null, "Description": "Open a Support Ticket for help with Skills Development Plan.", "EventName": null, "ApplicableDevice": null }, { "DisplayText": "Contact Business Intelligence technical support", "DisplayOrder": "2", "Href": "mailto:esbibd@microsoft.com", "Title": "Contact Business Intelligence technical support ", "OpenInline": null, "Description": "Email esbibd@microsoft.com for Business Intelligence technical support.", "EventName": null, "ApplicableDevice": null }] }] } } }
        beforeEach(function () {
            spyOn(oboUserService, "initilizeOBOEntity").and.callThrough();
            var result = oboUserService.saveOBOEntityInContext(oboUserData);
        });

        it("Then it should call initilizeOBOEntity method", () => {
            expect(oboUserService.initilizeOBOEntity).toHaveBeenCalled();
        });

        it("Then it should call saveContext method", () => {
            expect(oboUserService.fxpContextService.saveContext).toHaveBeenCalled();
        });
    });


    describe("When we have initializeOBOEntityFromContext", () => {
        var result;
        beforeEach(function () {
            spyOn(oboUserService, "initilizeOBOEntity").and.callThrough();
            var result = oboUserService.initializeOBOEntityFromContext();
        });

        it("Then it should call readContext method", () => {
            expect(oboUserService.fxpContextService.readContext).toHaveBeenCalled();
        });

        it("Then it should call setCurrentUser method", () => {
            expect(oboUserService.userProfileService.setCurrentUser).toHaveBeenCalled();
        });

        it("Then it should call getCalimsSvc method", () => {
            expect(oboUserService.userProfileService.getCalimsSvc).toHaveBeenCalled();
        });
        it("Then it should call initilizeOBOEntity method", () => {
            expect(oboUserService.initilizeOBOEntity).toHaveBeenCalled();
        });
    });

    describe("When we have initializeOBOEntityFromContext with no Data", () => {
        beforeEach(function () {
            spyOn(oboUserService, "removeOBOUserContext").and.callThrough();
            oboUserService.fxpContextService.readContext = jasmine.createSpy("readContext").and.callFake(function () {
                return {
                    then: function (callback) {
                        return callback(
                            {
                                IsError: true,
                                Result: JSON.stringify({ OBOUserStatus: false, OBOUser: { alias: "v-gdjag@microsoft.com" }, OBOUserRoutes: [], OBOUserSessionInfo: {}, OBOUserTenantConfiguration: {} })
                            });
                    }
                }
            });
            oboUserService.initializeOBOEntityFromContext();
        });

        it("Then it should call removeOBOUserContext method", () => {
            expect(oboUserService.removeOBOUserContext).toHaveBeenCalled();
        });
    });

    describe("When we have initializeOBOEntityFromContext with readContext method Error ", () => {
        var error;
        beforeEach(function () {
            spyOn(oboUserService, "removeOBOUserContext");
            oboUserService.fxpContextService.readContext = jasmine.createSpy("readContext").and.callFake(function () {
                var defer = $q.defer();
                error = {
                    messege: "Error in readContext"
                };
                defer.reject(error);
                return defer.promise;
            });
            oboUserService.initializeOBOEntityFromContext();
            $timeout.flush();
        });

        it("Then it should call removeOBOUserContext method", () => {
            expect(oboUserService.removeOBOUserContext).toHaveBeenCalled();
        });
    });

    describe("When we have removeOBOUserContext", () => {
        var result;
        beforeEach(function () {
            oboUserService.OBOUser = { alias: "v-sss" }
            result = oboUserService.removeOBOUserContext();
        });

        it("Then it should call deleteContext with OBOUserAlias method", () => {
            expect(oboUserService.fxpContextService.deleteContext).toHaveBeenCalled();
        });
    });

    describe("When we have getOBOUserRoutes", () => {
        var result;
        beforeEach(function () {
            oboUserService.OBOUserRoutes = { routeConfig: { state: "DashBoard" } };
            result = oboUserService.getOBOUserRoutes();
        });

        it("Then it should return getOBOUserRoutes", () => {
            expect(result).not.toBeUndefined();
            expect(result).toEqual(oboUserService.OBOUserRoutes);
        });
    });


    describe("When we have getOBOUser", () => {
        var result;
        beforeEach(function () {
            oboUserService.OBOUser = { name: "OboSuer", OboUserRouts: [] };
            result = oboUserService.getOBOUser();
        });

        it("Then it should return getOBOUser details", () => {
            expect(result).not.toBeUndefined();
            expect(result).toEqual(oboUserService.OBOUser);
        });
    });


    describe("When we have getOBOUserTenantConfiguration", () => {
        var result;
        beforeEach(function () {
            oboUserService.OBOUserTenantConfiguration = { name: "asd", fullName: "ds" };
            result = oboUserService.getOBOUserTenantConfiguration();
        });

        it("Then it should return getOBOUserTenantConfiguration", () => {
            expect(result).not.toBeUndefined();
            expect(result).toEqual(oboUserService.OBOUserTenantConfiguration);
        });
    });
});